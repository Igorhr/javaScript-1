<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="common.js"></script>
  </head>
  <body>
    <script>
      var csvToArray = csvStr => csvStr.split('\n').map(arr => arr.split(','));

      var csvArr = csvToArray(csvString);
      console.log(csvArr);

      //=================================== findAverageAge ========================//

      // function findAverageAge(gender,  arr) {

      //     var filtered = arr.filter((developer,i, arr) => {
      //           if(gender === "male") {
      //             return developer[i][4] === 'male'
      //               }
      //           })
      //         //   console.log(developer);

      //         // arr[index+1] +=' extra'
      // //   return word.length < 6

      //         // (gender === 'all' || developer.gender === gender) &&
      //         // (skill === 'all' || developer.skill === skill)
      //         // console.log('hi');

      //     return filtered
      // }

      // console.log(findAverageAge('male',  csvArr));

      //=================================== SortArrays ========================//

      var sortedDeveloper = (sortBy, sortDir, obj) => {
        if (sortBy === 'age') {
          sortBy = 0;
        } else if (sortBy === 'sallary') {
          sortBy = 5;
        }

        var sortedAsc = obj.sort((a, b) => a[sortBy] - b[sortBy]).slice();
        var sortedDesc = obj.sort((a, b) => b[sortBy] - a[sortBy]).slice();
        return sortDir === 'desc' ? sortedDesc : sortDir === 'asc' ? sortedAsc : 'no valid input';
      };

      console.log(sortedDeveloper('age', 'desc', csvArr));
      console.log(sortedDeveloper('age', 'asc', csvArr));
      console.log(sortedDeveloper('sallary', 'asc', csvArr));
      console.log(sortedDeveloper('sallary', 'desc', csvArr));
    </script>
  </body>
</html>
