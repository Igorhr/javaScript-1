<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Array.prototype.reduce()</title>
  </head>
  <body>
    <script>
      var array1 = [1, 2, 3, 4, 1];
      var sum = array1.reduce((a, c) => a + c);
      console.log(sum + ' ->sum');

      var avg = array1.reduce((a, c) => a + c) / array1.length;
      console.log(avg + ' ->avg');

      var biggest = array1.reduce((a, c) => (c > a ? c : a));
      console.log(biggest + ' ->biggest');
      var max = array1.reduce((a, c) => Math.max(a, c));
      console.log(max + ' ->max');

      var smallest = array1.reduce((a, c) => (c < a ? c : a));
      console.log(smallest + ' ->smallest');
      var min = array1.reduce((a, c, x) => Math.min(a, c));
      console.log(min + ' ->min');

      var squarePush = array1.reduce((a, c) => {
        a.push(c ** 2);
        return a;
      }, []);
      console.log('Push:');
      console.log(squarePush);

      var squareConcat = array1.reduce((a, c) => a.concat(c ** 2), []);
      console.log('concat:');
      console.log(squareConcat);

      var flattened = [[1, 2], ['hi', 4], 0, [5, 6]].reduce((acc, c) => acc.concat(c), []);
      console.log('flattened:');
      console.log(flattened);

      var removeDuplicate = array1.reduce(function(acc, current) {
        //The indexOf() method returns the first index at which a given element can be found in the array, or -1 if it is not present.
        if (acc.indexOf(current) === -1) {
          acc.push(current);
        }

        return acc;
      }, []);
      console.log('removeDuplicate:');
      console.log(removeDuplicate);

      /////objects

      var sumObjects = [{ x: 1 }, { x: 2 }, { x: 3 }].reduce((a, current) => (a += current.x), 0);
      console.log('sumObjects:');
      console.log(sumObjects);

      var names = ['Gandalf', 'Legalos', 'Kratos', 'Gandalf', 'Kratos', 'Sauron'];
      var countNames = names.reduce(function(allNames, name) {
        if (name in allNames) {
          allNames[name]++;
        } else {
          allNames[name] = 1;
        }
        return allNames;
      }, {});
      console.log('countNames:');
      console.log(countNames);
    </script>
  </body>
</html>
